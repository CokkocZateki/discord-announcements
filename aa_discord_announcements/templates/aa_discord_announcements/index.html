{% extends 'aa_discord_announcements/base.html' %}

{% load i18n %}

{% block details %}
    <div class="aa-discord-announcements row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <span class="panel-title">{% translate "Announcement Details" %}</span>
                </div>
                <div class="panel-body">
                    {% include "aa_discord_announcements/partials/form/form.html" %}
                </div>
            </div>
        </div>

        <div class="col-md-6 aa-discord-announcements-pingtext">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <span class="panel-title">{% translate "Formatted Announcement Text" %}</span>
                </div>
                <div class="panel-body">
                    {% include "aa_discord_announcements/partials/announcement/announcement.html" %}
                </div>
            </div>
        </div>
    </div>

    <script>
        const discordAnnouncementsSettings = {
            url: {
                {#createAnnouncement: '{% url "aa_discord_announcements:ajax_create_announcement" %}',#}
                getAnnouncementTargets: '{% url "aa_discord_announcements:ajax_get_announcement_targets" %}',
                getAnnouncementWebhooks: '{% url "aa_discord_announcements:ajax_get_webhooks" %}'
            }
        };
    </script>
{% endblock %}

{% block extra_javascript %}
    {% include "bundles/clipboard-js.html" %}
    {% include "aa_discord_announcements/bundles/discord-announcements-js.html" %}
{% endblock %}

{% block extra_css %}
    {% include "aa_discord_announcements/bundles/discord-announcements-css.html" %}
{% endblock %}
